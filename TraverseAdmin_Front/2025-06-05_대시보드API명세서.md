# 차트 컴포넌트별 API 명세

## 혹시나 데이터가 안나오면 각 파일에서 data -> data.data 로 변경해보세요.

## 1. DashboardTrendsChart.jsx

- API 호출명: `dashboardAPI.getTrends()`
- 엔드포인트: `/api/dashboard/trends`
- 메소드: GET
- 파라미터:
  ```json
  {
    "start_date": "YYYY-MM-DD",
    "end_date": "YYYY-MM-DD",
    "interval": "daily" | "weekly" | "monthly"
  }
  ```
- 응답 데이터:
  ```json
  {
    "success": true,
    "data": {
      "trends": [
        {
          "date": "YYYY-MM-DD",
          "new_users": "number",
          "new_posts": "number",
          "total_reports": "number"
        }
      ]
    }
  }
  ```

## 2. PostStatsStackedBarChart.jsx

- API 호출명: `dashboardAPI.getContentTrends()`
- 엔드포인트: `/api/dashboard/content-trends`
- 메소드: GET
- 파라미터:
  ```json
  {
    "start_date": "YYYY-MM-DD",
    "end_date": "YYYY-MM-DD",
    "interval": "daily" | "weekly" | "monthly"
  }
  ```
- 응답 데이터:
  ```json
  {
    "success": true,
    "data": {
      "post_trend": [
        {
          "date": "YYYY-MM-DD",
          "count": "number"
        }
      ],
      "comment_trend": [
        {
          "date": "YYYY-MM-DD",
          "count": "number"
        }
      ]
    }
  }
  ```

## 3. UserStatsLineChart.jsx

- API 호출명: `dashboardAPI.getUserTrends()`
- 엔드포인트: `/api/dashboard/user-trends`
- 메소드: GET
- 파라미터:
  ```json
  {
    "start_date": "YYYY-MM-DD",
    "end_date": "YYYY-MM-DD",
    "interval": "daily" | "weekly" | "monthly"
  }
  ```
- 응답 데이터:
  ```json
  {
    "success": true,
    "data": {
      "signup_trend": [
        {
          "date": "YYYY-MM-DD",
          "count": "number"
        }
      ],
      "active_trend": [
        {
          "date": "YYYY-MM-DD",
          "count": "number"
        }
      ],
      "retention_trend": [
        {
          "date": "YYYY-MM-DD",
          "rate": "number"
        }
      ]
    }
  }
  ```

## 4. UserReportChart.jsx

- API 호출명: `userAPI.getUserStatistics()`
- 엔드포인트: `/api/users/statistics`
- 메소드: GET
- 파라미터:
  ```json
  {
    "start_date": "YYYY-MM-DD",
    "end_date": "YYYY-MM-DD",
    "interval": "daily" | "weekly" | "monthly" | "yearly"
  }
  ```
- 응답 데이터:
  ```json
  {
    "success": true,
    "data": {
      "total_users": "number",
      "new_users": "number",
      "active_users": "number",
      "user_trend": [],
      "report_stats": {
        "total": "number",
        "pending": "number",
        "resolved": "number",
        "by_category": [
          {
            "category": "string",
            "count": "number"
          }
        ]
      }
    }
  }
  ```

## 5. DashBoardUserTrendsPage.jsx

- API 호출명: `dashboardAPI.getUserTrends()`
- 엔드포인트: `/api/dashboard/user-trends`
- 메소드: GET
- 파라미터:
  ```json
  {
    "start_date": "YYYY-MM-DD",
    "end_date": "YYYY-MM-DD",
    "interval": "daily" | "weekly" | "monthly"
  }
  ```
- 응답 데이터:

  ```json
  {
    "success": true,
    "data": {
      "data": {
        "signup_trend": [
          {
            "date": "YYYY-MM-DD",
            "count": "number"
          }
        ],
        "active_trend": [
          {
            "date": "YYYY-MM-DD",
            "count": "number"
          }
        ],
        "retention_trend": [
          {
            "date": "YYYY-MM-DD",
            "rate": "number"
          }
        ],
        "user_demographics": {
          "by_age": [
            {
              "range": "string",
              "count": "number",
              "percentage": "number"
            }
          ],
          "by_gender": [
            {
              "gender": "string",
              "count": "number",
              "percentage": "number"
            }
          ],
          "by_location": [
            {
              "location": "string",
              "count": "number",
              "percentage": "number"
            }
          ]
        }
      }
    }
  }
  ```

## 5.1 DashBoardUserTrendsPage.jsx (체크박스 했을때)

- 추가 API 호출 (전체 통계용):
  - API 호출명: `dashboardAPI.getUserTrends()`
  - 엔드포인트: `/api/dashboard/user-trends`
  - 메소드: GET
  - 파라미터:
    ```json
    {
      "start_date": "2000-01-01",
      "end_date": "2100-12-31",
      "interval": "monthly"
    }
    ```
  - 응답 데이터: 위와 동일한 형식

## 6. DashBoardContentTrendsPage.jsx

- API 호출명: `dashboardAPI.getContentTrends()`
- 엔드포인트: `/api/dashboard/content-trends`
- 메소드: GET
- 파라미터:
  ```json
  {
    "start_date": "YYYY-MM-DD",
    "end_date": "YYYY-MM-DD",
    "interval": "daily" | "weekly" | "monthly"
  }
  ```
- 응답 데이터:

  ```json
  {
    "success": true,
    "data": {
      "post_trend": [
        {
          "date": "YYYY-MM-DD",
          "count": "number"
        }
      ],
      "comment_trend": [
        {
          "date": "YYYY-MM-DD",
          "count": "number"
        }
      ],
      "engagement_trend": [
        {
          "date": "YYYY-MM-DD",
          "likes": "number",
          "comments": "number",
          "shares": "number"
        }
      ],
      "top_content": {
        "posts": [
          {
            "post_id": "string",
            "title": "string",
            "engagement": "number"
          }
        ],
        "hashtags": [
          {
            "id": "string",
            "name": "string",
            "usage_count": "number"
          }
        ]
      }
    }
  }
  ```
